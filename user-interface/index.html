<html>

<head>
  <title>RollenBollen</title>
  <!-- <!– Load React. afblijven met de tengels –>
      <!– Note: when deploying, replace “development.js” with “production.min.js”. –> -->
  <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <link rel="stylesheet" href="stylesheet.css" />
</head>

<body>
  <div id="root"></div>

  <!-- scripts -->
  <script type="text/babel">
    window.onload = function () {
      function App() {
        const [cursor, setCursor] = React.useState("#C8EFF9");
        return (
          <div className="container">
            <div>
              <ButtonView setCursor={setCursor} />
            </div>

            <GridView cursor={cursor} />
          </div>
        );
      }
      ReactDOM.render(<App />, document.getElementById("root"));

      function ButtonView(props) {
        return (
          <div className="button-div">
            <div
              className="button"
              style={{ backgroundColor: "#C8EFF9" }}
              onClick={() => props.setCursor("#C8EFF9")}
            >
              <h2 style={{ color: "grey" }}>Beschikbaar</h2>
            </div>
            <div
              className="button"
              style={{ backgroundColor: "#ff0000" }}
              onClick={() => props.setCursor("#ff0000")}
            >
              <h2>Obstakel</h2>
            </div>
            <div className="button" style={{ backgroundColor: "#ffca2c" }}>
              <h2>Tussenstop</h2>
            </div>
            <div className="button" style={{ backgroundColor: "#022449" }}>
              <h2>Positie</h2>
            </div>
            <div className="button" style={{ backgroundColor: "#62C7A5" }}>
              <h2>Doel</h2>
            </div>
          </div>
        );
      }

      function BoltView() {
        // hier iets over de positie vn de bolts
      }

      function GridView(props) {
        let grids = [];
        for (let index = 0; index < 100; index++) {
          grids.push({ index: index, util: "#C8EFF9" });
        }

        const changeGrid = (item) => {
          grids[item].util = props.cursor;
        };

        return (
          <div className="box-map">
            <div className="grid-container">
              {grids.map((element, index) => (
                <Grid
                  item={element}
                  key={grids[index].index}
                  changeGrid={() => changeGrid(index)}
                  cursor={props.cursor}
                />
              ))}
            </div>
          </div>
        );
      }
    };

    function Grid(props) {
      const [color, setColor] = React.useState(props.item.util);

      const onChangeGrid = () => {
        if (props.cursor != color) {
          console.log("send request");
        }
      };

      return (
        <div
          className="grid-item"
          style={{ backgroundColor: color }}
          onClick={() => {
            props.changeGrid();
            setColor(props.cursor);
            onChangeGrid();
          }}
        >
          {props.item.index}
        </div>
      );
    }
  </script>
</body>

</html>